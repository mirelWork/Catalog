Ecran_Catalog As screen:
    OnVisible: =

    Drop_Categorie As dropdown:
        AllowEmptySelection: =true
        Default: =varCategorie
        Height: =35
        Items: |-
            =Sort(Distinct(Filter(catalogList,
                    Not(IsBlank(ThisRecord.Code)),
                    Not(IsBlank(ThisRecord.EnglishName)),
                    Boolean(Status)=true,
                    If(IsBlank(varBrand),true,FinalBrand=varBrand),
                    If(IsBlank(varType),true,'Tip Material'=varType)),ThisRecord.Categorie),Value,SortOrder.Ascending)
        OnChange: |-
            =Set(varCategorie,Drop_Categorie.SelectedText.Value) And
            If(AssetType.SelectedText.Value=varType,false,Set(varType,Blank())) And
            Reset(ListaMateriale)
        Size: =14
        Width: =284
        X: =28
        Y: =92
        ZIndex: =1

    Drop_Brand As dropdown:
        AllowEmptySelection: =true
        Default: =varBrand
        Height: =35
        Items: |-
            =Sort(Distinct(Filter(catalogList,
                    Not(IsBlank(ThisRecord.Code)),
                    Not(IsBlank(ThisRecord.EnglishName)),
                    Boolean(Status)=true,        
                    If(IsBlank(varCategorie),true,Categorie=varCategorie),
                    If(IsBlank(varType),true,'Tip Material'=varType)),ThisRecord.FinalBrand),Value,SortOrder.Ascending)
        OnChange: |-
            =Set(varBrand,Drop_Brand.SelectedText.Value)
            And
            Reset(ListaMateriale)
        Size: =14
        Width: =284
        X: =338
        Y: =92
        ZIndex: =2

    "ListaMateriale As gallery.'BrowseLayout_Vertical_TwoTextOneImageVariant_ver5.0'":
        Height: =853
        Items: |-
            =IfError(Sort(
                Filter(catalogList,
                    Not(IsBlank(ThisRecord.Code)),          Not(IsBlank(ThisRecord.EnglishName)),
                    Boolean(Status)=true,
                    If(IsBlank(varBrand),true,FinalBrand=varBrand),
                    //If(IsBlank(varGrup);true;Category=varGrup);
                    If(IsBlank(varCategorie),true,Categorie=varCategorie),
                    If(IsBlank(varType),true,'Tip Material'=varType),
                    If(IsBlank(varCod),true,StartsWith(Code,varCod))),
                SortOrder.Ascending),Blank())
        Layout: =Layout.Vertical
        LoadingSpinner: =LoadingSpinner.Data
        OnSelect: =
        TemplatePadding: =0
        TemplateSize: =246
        Y: =276
        ZIndex: =3

        Title2 As label:
            Align: =Align.Center
            FontWeight: =If(ThisItem.IsSelected, FontWeight.Semibold, FontWeight.Normal)
            Height: =42
            OnSelect: =Select(Parent)
            PaddingBottom: =0
            PaddingLeft: =0
            PaddingRight: =0
            PaddingTop: =0
            Size: =24
            Text: =ThisItem.Code
            VerticalAlign: =VerticalAlign.Top
            Width: =209
            X: =336
            Y: =98
            ZIndex: =2

        Subtitle2 As label:
            Align: =Align.Center
            FontWeight: =If(ThisItem.IsSelected, FontWeight.Semibold, FontWeight.Normal)
            OnSelect: =Select(Parent)
            Overflow: =Overflow.Scroll
            PaddingBottom: =0
            PaddingLeft: =0
            PaddingRight: =0
            PaddingTop: =0
            Size: =16
            Text: =ThisItem.EnglishName
            VerticalAlign: =VerticalAlign.Top
            Width: =640
            Y: =203
            ZIndex: =3

        Separator2 As rectangle:
            Fill: =RGBA(153, 207, 236, 1)
            Height: =8
            OnSelect: =Select(Parent)
            Width: =Parent.TemplateWidth
            Y: =238
            ZIndex: =5

        Rectangle2 As rectangle:
            Fill: =RGBA(56, 96, 178, 1)
            Height: =Parent.TemplateHeight - Separator2.Height
            OnSelect: =Select(Parent)
            Visible: =ThisItem.IsSelected
            Width: =4
            ZIndex: =6

        Icon2 As icon.Add:
            Color: =If(LookUp(fileList,Nume=ThisItem.Code,Nume=ThisItem.Code),RGBA(0, 18, 107, 1),RGBA(255, 0, 0, 0.8))
            Height: =34
            Icon: =Icon.Add
            OnSelect: =Set(varAdaugarePoza,ThisItem.Code) And Navigate(Ecran_AdaugarePoza)
            Tooltip: ="Adauga o poza"
            Width: =49
            X: =545
            Y: =102
            ZIndex: =8

        HtmlText1 As htmlViewer:
            Height: =199
            HtmlText: |
                ="<center>
                <img src="&First(Filter(fileList,ThisRecord.Nume=ThisItem.Code)).Thumbnail.Large&" height=175 />
                </center>"
            OnSelect: =Select(Parent)
            Width: =332
            X: =4
            ZIndex: =9

        Icon4 As icon.ExpandView:
            Height: =38
            Icon: =Icon.ExpandView
            OnSelect: =If(LookUp(fileList,Nume=ThisItem.Code,Nume=ThisItem.Code), Set(marire,First(Filter(fileList,ThisRecord.Nume=ThisItem.Code)).Thumbnail.Large) And Navigate(Ecran_Zoom))
            Tooltip: ="Mareste poza"
            Visible: =If(LookUp(fileList,Nume=ThisItem.Code,Nume=ThisItem.Code),true,false)
            Width: =36
            X: =302
            Y: =152
            ZIndex: =10

    Label1 As label:
        Align: =Align.Center
        Height: =32
        OnSelect: =
        Size: =21
        Text: ="Categorie"
        Width: =284
        X: =28
        Y: =51
        ZIndex: =5

    Label1_1 As label:
        Align: =Align.Center
        Height: =32
        Size: =21
        Text: ="Brand"
        Width: =277
        X: =338
        Y: =51
        ZIndex: =6

    Rectangle3 As rectangle:
        Height: =8
        Width: =640
        Y: =268
        ZIndex: =7

    AssetType As dropdown:
        AllowEmptySelection: =true
        Default: =varType
        Height: =33
        Items: |-
            =Sort(Distinct(Filter(catalogList,
                    Not(IsBlank(ThisRecord.Code)),
                    Not(IsBlank(ThisRecord.EnglishName)),
                    Boolean(Status)=true,
                    If(IsBlank(varBrand),true,FinalBrand=varBrand),
                    If(IsBlank(varCategorie),true,Categorie=varCategorie)),ThisRecord.'Tip Material'),Value,SortOrder.Ascending)
        OnChange: |-
            =Set(varType,AssetType.SelectedText.Value) And
            Reset(ListaMateriale)
        Size: =14
        Width: =284
        X: =28
        Y: =170
        ZIndex: =9

    Label1_2 As label:
        Align: =Align.Center
        Height: =32
        OnSelect: =
        Size: =21
        Text: ="Tip"
        Width: =284
        X: =28
        Y: =132
        ZIndex: =10

    Label4 As label:
        Height: =34
        Size: =21
        Text: ="Nu s-au gasit materiale cu acest filtru."
        Visible: =IsEmpty(ListaMateriale.AllItems)
        Width: =560
        X: =40
        Y: =230
        ZIndex: =13

    Label1_3 As label:
        Align: =Align.Center
        Height: =32
        OnSelect: =
        Size: =21
        Text: ="Cod Material"
        Width: =284
        X: =331
        Y: =132
        ZIndex: =14

    TextInput1 As text:
        Default: =Blank()
        Format: =TextFormat.Number
        Height: =33
        HintText: =""
        MaxLength: =6
        OnChange: |-
            =Set(varCategorie,Blank()) And
            Set(varBrand,Blank()) And
            Set(varType,Blank()) And
            Set(varCod,TextInput1.Text)
        Size: =14
        Width: =284
        X: =338
        Y: =170
        ZIndex: =15

